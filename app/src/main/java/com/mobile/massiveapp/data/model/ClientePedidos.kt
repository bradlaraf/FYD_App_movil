package com.mobile.massiveapp.data.model

import com.mobile.massiveapp.data.database.entities.ClientePedidosDetalleEntity
import com.mobile.massiveapp.data.database.entities.ClientePedidosEntity
import com.mobile.massiveapp.data.database.entities.toDatabase
import com.mobile.massiveapp.data.util.MappingInteface
import com.google.gson.annotations.SerializedName


data class ClientePedidos(
    val AccAction: String,
    val AccCreateDate: String,
    val AccCreateHour: String,
    val AccCreateUser: String,
    val AccDocEntry: String,
    val AccError: String,
    val AccNotificado: String,
    var AccFinalized: String,
    val AccMigrated: String,
    val AccMovil: String,
    val AccUpdateDate: String,
    val AccUpdateHour: String,
    val AccUpdateUser: String,
    val Address: String,
    val Address2: String,
    val Authorized: String,
    var CANCELED: String,
    val CardCode: String,
    val CardName: String,
    val AccDocEntrySN: String,
    val CntctCode: Int,
    val Comments: String,
    val DocCur: String,
    val DocDate: String,
    val DocDueDate: String,
    val DocEntry: Int,
    val DocNum: Int,
    val DocRate: Double,
    val DocStatus: String,
    val DocTotal: Double,
    val DocTotalFC: Double,
    val GrosProfFC: Double,
    val GrosProfit: Double,
    val GroupNum: Int,
    val Indicator: String,
    val LicTradNum: String,
    val NumAtCard: String,
    val PayToCode: String,
    val PriceList: Int,
    val Project: String,
    val Series: Int,
    val ShipToCode: String,
    val SlpCode: Int,
    val TaxDate: String,
    val VatSum: Double,
    val VatSumFC: Double,
    val ObjType: Int,
    val AccControl: String,
    @SerializedName("Lineas")
    val clientePedidoDetalles: List<ClientePedidoDetalle>
):MappingInteface<ClientePedidos>(){
    constructor() : this(
        AccAction = "",
        AccCreateDate = "",
        AccCreateHour = "",
        AccCreateUser = "",
        AccDocEntry = "",
        AccError = "",
        AccNotificado = "",
        AccFinalized = "",
        AccMigrated = "",
        AccMovil = "",
        AccUpdateDate = "",
        AccUpdateHour = "",
        AccUpdateUser = "",
        Address = "",
        Address2 = "",
        Authorized = "",
        CANCELED = "",
        CardCode = "",
        AccDocEntrySN = "",
        CardName = "",
        CntctCode = 0,
        Comments = "",
        DocCur = "",
        DocDate = "",
        DocDueDate = "",
        DocEntry = 0,
        DocNum = 0,
        DocRate = 0.0,
        DocStatus = "",
        DocTotal = 0.0,
        DocTotalFC = 0.0,
        GrosProfFC = 0.0,
        GrosProfit = 0.0,
        GroupNum = 0,
        Indicator = "",
        LicTradNum = "",
        NumAtCard = "",
        PayToCode = "",
        PriceList = 0,
        Project = "",
        Series = 0,
        ShipToCode = "",
        SlpCode = 0,
        TaxDate = "",
        VatSum = 0.0,
        VatSumFC = 0.0,
        ObjType = 0,
        AccControl = "",
        clientePedidoDetalles = emptyList()
    )

    override fun map(data: List<ClientePedidos>): List<*> {
        return data.map { it.toDatabase() }
    }

    override fun listOfKeys(data: List<ClientePedidos>): List<Any> {
        return data.map { it.AccDocEntry }
    }
}

fun ClientePedidos.toEntity() = ClientePedidosEntity(
    AccAction = AccAction,
    AccCreateDate = AccCreateDate,
    AccCreateHour = AccCreateHour,
    AccCreateUser = AccCreateUser,
    AccDocEntry = AccDocEntry,
    AccError = AccError,
    AccNotificado = AccNotificado,
    AccFinalized = AccFinalized,
    AccMigrated = AccMigrated,
    AccMovil = AccMovil,
    AccUpdateDate = AccUpdateDate,
    AccUpdateHour = AccUpdateHour,
    AccUpdateUser = AccUpdateUser,
    Address = Address,
    Address2 = Address2,
    Authorized = Authorized,
    CANCELED = CANCELED,
    CardCode = CardCode,
    CardName = CardName,
    AccDocEntrySN = AccDocEntrySN,
    CntctCode = CntctCode,
    Comments = Comments,
    DocCur = DocCur,
    DocDate = DocDate,
    DocDueDate = DocDueDate,
    DocEntry = DocEntry,
    DocNum = DocNum,
    DocRate = DocRate,
    DocStatus = DocStatus,
    DocTotal = DocTotal,
    DocTotalFC = DocTotalFC,
    GrosProfFC = GrosProfFC,
    GrosProfit = GrosProfit,
    GroupNum = GroupNum,
    Indicator = Indicator,
    LicTradNum = LicTradNum,
    NumAtCard = NumAtCard,
    PayToCode = PayToCode,
    PriceList = PriceList,
    Project = Project,
    Series = Series,
    ShipToCode = ShipToCode,
    SlpCode = SlpCode,
    TaxDate = TaxDate,
    VatSum = VatSum,
    VatSumFC = VatSumFC,
    ObjType =  ObjType,
    AccControl = AccControl
)

fun ClientePedidosEntity.toModel(detallePedido: List<ClientePedidosDetalleEntity>) = ClientePedidos(
    AccAction = AccAction,
    AccCreateDate = AccCreateDate,
    AccCreateHour = AccCreateHour,
    AccCreateUser = AccCreateUser,
    AccDocEntry = AccDocEntry,
    AccError = AccError,
    AccNotificado = AccNotificado,
    AccFinalized = AccFinalized,
    AccMigrated = AccMigrated,
    AccMovil = AccMovil,
    AccUpdateDate = AccUpdateDate,
    AccUpdateHour = AccUpdateHour,
    AccUpdateUser = AccUpdateUser,
    Address = Address,
    Address2 = Address2,
    Authorized = Authorized,
    CANCELED = CANCELED,
    CardCode = CardCode,
    CardName = CardName,
    AccDocEntrySN = AccDocEntrySN,
    CntctCode = CntctCode,
    Comments = Comments,
    DocCur = DocCur,
    DocDate = DocDate,
    DocDueDate = DocDueDate,
    DocEntry = DocEntry,
    DocNum = DocNum,
    DocRate = DocRate,
    DocStatus = DocStatus,
    DocTotal = DocTotal,
    DocTotalFC = DocTotalFC,
    GrosProfFC = GrosProfFC,
    GrosProfit = GrosProfit,
    GroupNum = GroupNum,
    Indicator = Indicator,
    LicTradNum = LicTradNum,
    NumAtCard = NumAtCard,
    PayToCode = PayToCode,
    PriceList = PriceList,
    Project = Project,
    Series = Series,
    ShipToCode = ShipToCode,
    SlpCode = SlpCode,
    TaxDate = TaxDate,
    VatSum = VatSum,
    VatSumFC = VatSumFC,
    ObjType =  ObjType,
    AccControl = AccControl,
    clientePedidoDetalles = detallePedido.map { it.toModel() }
)

data class PrecioFinalView(
    val precioUnitario: Double,
    val precioFinal: Double,
    val precioDescontado: Double,
    val porcentajeDescuento: Double,
    val precioBruto: Double
) {
    constructor():this(
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
    )
}